{"ast":null,"code":"import Common from \"../../../classes/componentClass\";\nexport const submit = () => {\n  return {\n    type: \"SUBMIT\"\n  };\n};\nexport const login = e => {\n  let url = \"http://127.0.0.1:8000/api/login\";\n  const headers = new Headers({\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\"\n  });\n  const request = new Request(url, {\n    method: \"POST\",\n    headers: headers,\n    body: JSON.stringify(e)\n  });\n  return async dispatch => {\n    try {\n      const response = await fetch(request);\n      const resData = await response.json();\n\n      if (resData[\"state\"]) {\n        dispatch({\n          type: \"FETCH_LOGIN\",\n          payLoad: resData\n        });\n      } else {\n        dispatch({\n          type: \"END_SUBMIT\",\n          payLoad: resData\n        });\n        Common.alertMsg(\"Username or password is incorrect\");\n      }\n    } catch (e) {\n      /*\n        notifies the user \n        and stops the loader \n        */\n      Common.alertMsg(\"Please check your internet connection and try again\");\n      dispatch({\n        type: \"END_SUBMIT\"\n      });\n    }\n  };\n};","map":{"version":3,"sources":["/home/abel/fms_front/src/redux/actions/Login/LoginAction.js"],"names":["Common","submit","type","login","e","url","headers","Headers","Accept","request","Request","method","body","JSON","stringify","dispatch","response","fetch","resData","json","payLoad","alertMsg"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,iCAAnB;AAEA,OAAO,MAAMC,MAAM,GAAG,MAAM;AAC1B,SAAO;AACLC,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,KAAK,GAAIC,CAAD,IAAO;AAC1B,MAAIC,GAAG,GAAG,iCAAV;AACA,QAAMC,OAAO,GAAG,IAAIC,OAAJ,CAAY;AAC1BC,IAAAA,MAAM,EAAE,kBADkB;AAE1B,oBAAgB;AAFU,GAAZ,CAAhB;AAIA,QAAMC,OAAO,GAAG,IAAIC,OAAJ,CAAYL,GAAZ,EAAiB;AAC/BM,IAAAA,MAAM,EAAE,MADuB;AAE/BL,IAAAA,OAAO,EAAEA,OAFsB;AAG/BM,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeV,CAAf;AAHyB,GAAjB,CAAhB;AAMA,SAAO,MAAOW,QAAP,IAAoB;AACzB,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACR,OAAD,CAA5B;AACA,YAAMS,OAAO,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAtB;;AACA,UAAID,OAAO,CAAC,OAAD,CAAX,EAAsB;AACpBH,QAAAA,QAAQ,CAAC;AAAEb,UAAAA,IAAI,EAAE,aAAR;AAAuBkB,UAAAA,OAAO,EAAEF;AAAhC,SAAD,CAAR;AACD,OAFD,MAEO;AACLH,QAAAA,QAAQ,CAAC;AAAEb,UAAAA,IAAI,EAAE,YAAR;AAAsBkB,UAAAA,OAAO,EAAEF;AAA/B,SAAD,CAAR;AACAlB,QAAAA,MAAM,CAACqB,QAAP,CAAgB,mCAAhB;AACD;AACF,KATD,CASE,OAAOjB,CAAP,EAAU;AACV;AACN;AACA;AACA;AACMJ,MAAAA,MAAM,CAACqB,QAAP,CAAgB,qDAAhB;AACAN,MAAAA,QAAQ,CAAC;AAAEb,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACD;AACF,GAlBD;AAmBD,CA/BM","sourcesContent":["import Common from \"../../../classes/componentClass\";\n\nexport const submit = () => {\n  return {\n    type: \"SUBMIT\",\n  };\n};\n\nexport const login = (e) => {\n  let url = \"http://127.0.0.1:8000/api/login\";\n  const headers = new Headers({\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\",\n  });\n  const request = new Request(url, {\n    method: \"POST\",\n    headers: headers,\n    body: JSON.stringify(e),\n  });\n\n  return async (dispatch) => {\n    try {\n      const response = await fetch(request);\n      const resData = await response.json();\n      if (resData[\"state\"]) {\n        dispatch({ type: \"FETCH_LOGIN\", payLoad: resData });\n      } else {\n        dispatch({ type: \"END_SUBMIT\", payLoad: resData });\n        Common.alertMsg(\"Username or password is incorrect\");\n      }\n    } catch (e) {\n      /*\n        notifies the user \n        and stops the loader \n        */\n      Common.alertMsg(\"Please check your internet connection and try again\");\n      dispatch({ type: \"END_SUBMIT\" });\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"module"}